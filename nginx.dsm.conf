# Synology DSM nginx custom configuration for gpodder.
#
# This file needs to be copied to a filename like this on the Synology DSM server (correct as of DSM 7.2.2):
#
#   /usr/local/etc/nginx/conf.d/cc0bb908-e5d8-4f11-acd6-9a506b88a04e/user.conf
#
# where the exact filename can be found from the auto-generated configuration file that defines the gpodder virtual host,
# in this case it is in here:
#
#   /usr/local/etc/nginx/conf.d/.service.19d0f126-254b-4cdc-b559-5abe016d6d39.cc0bb908-e5d8-4f11-acd6-9a506b88a04e.conf
#
# NB: test changes first! with `sudo nginx -t`
#     then apply changes with  `sudo nginx -s reload`

location ~ ^/(lib|data|templates|sql)/ {
    return 404;
}

location / {
    try_files $uri $uri/ /index.php$is_args$args;
}
